<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChatGPT Memory Extractor</title>
  <link rel="stylesheet" href="styles-debug.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ§  Memory Extractor Pro</h1>
      <p class="subtitle">Assistant intelligent d'extraction</p>
    </header>

    <!-- Onglets -->
    <div class="tabs">
      <button class="tab active" data-tab="guide">ğŸš€ Extraction</button>
      <button class="tab" data-tab="debug">ğŸ” Analyse</button>
      <button class="tab" data-tab="capture">ğŸ¯ Capture</button>
      <button class="tab" data-tab="logs">ğŸ“œ Journal</button>
    </div>

    <!-- Tab Guide -->
    <div class="tab-content active" id="tab-guide">
      <div class="step-indicator">
        <div class="step" id="step-1">
          <span class="step-number">1</span>
          <span class="step-label">Navigation</span>
        </div>
        <div class="step" id="step-2">
          <span class="step-number">2</span>
          <span class="step-label">Trouver MÃ©moire</span>
        </div>
        <div class="step" id="step-3">
          <span class="step-number">3</span>
          <span class="step-label">Cliquer GÃ©rer</span>
        </div>
        <div class="step" id="step-4">
          <span class="step-number">4</span>
          <span class="step-label">Extraire</span>
        </div>
      </div>

      <div class="current-status">
        <h3>Ã‰tat actuel:</h3>
        <div id="pageStatus" class="status-box">
          <p>Analyse en cours...</p>
        </div>
      </div>

      <div class="actions">
        <button id="analyzeBtn" class="btn btn-primary">
          ğŸ” Analyser la page
        </button>
        
        <button id="guidedBtn" class="btn btn-success">
          ğŸš€ Extraction guidÃ©e
        </button>
        
        <button id="scrollBtn" class="btn btn-secondary hidden">
          ğŸ“œ Scroller vers MÃ©moire
        </button>
      </div>

      <div id="guideResults" class="results-box hidden">
        <h3>RÃ©sultat:</h3>
        <div id="guideContent"></div>
      </div>
    </div>

    <!-- Tab Debug -->
    <div class="tab-content" id="tab-debug">
      <div class="debug-info">
        <h3>ğŸ” Ã‰lÃ©ments dÃ©tectÃ©s sur la page:</h3>
        <div id="foundElements" class="element-list">
          <div class="element-item">
            <span class="element-icon">â³</span>
            <span>En attente d'analyse...</span>
          </div>
        </div>
      </div>

      <div class="debug-actions">
        <button id="refreshAnalysis" class="btn btn-primary">
          ğŸ”„ RafraÃ®chir l'analyse
        </button>
        
        <button id="exploreModal" class="btn btn-secondary">
          ğŸ”¬ Explorer la modale
        </button>
      </div>

      <div class="dom-explorer">
        <h3>ğŸ“Š Statistiques DOM:</h3>
        <div id="domStats" class="stats-grid">
          <div class="stat">
            <span class="stat-label">URL:</span>
            <span class="stat-value" id="currentUrl">-</span>
          </div>
          <div class="stat">
            <span class="stat-label">Position:</span>
            <span class="stat-value" id="scrollPos">-</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab Capture -->
    <div class="tab-content" id="tab-capture">
      <div class="capture-info">
        <h3>ğŸ¯ Mode Capture d'Ã‰lÃ©ment</h3>
        <p>Cliquez sur "DÃ©marrer la capture" puis survolez et cliquez sur n'importe quel Ã©lÃ©ment de la page pour obtenir ses informations.</p>
      </div>

      <button id="startCapture" class="btn btn-primary">
        ğŸ¯ DÃ©marrer la capture
      </button>

      <div id="capturedElement" class="captured-info hidden">
        <h3>Ã‰lÃ©ment capturÃ©:</h3>
        <div class="code-block">
          <pre id="capturedData"></pre>
        </div>
        <button id="copySelector" class="btn btn-small">
          ğŸ“‹ Copier le sÃ©lecteur
        </button>
      </div>

      <div class="capture-history">
        <h3>ğŸ“ Historique des captures:</h3>
        <div id="captureHistory"></div>
      </div>
    </div>

    <!-- Tab Logs -->
    <div class="tab-content" id="tab-logs">
      <div class="logs-header">
        <h3>ğŸ“œ Journal des Ã©vÃ©nements</h3>
        <button id="clearLogs" class="btn btn-small btn-danger">
          ğŸ—‘ï¸ Effacer
        </button>
      </div>
      
      <div class="log-filters">
        <label>
          <input type="checkbox" id="showInfo" checked> Info
        </label>
        <label>
          <input type="checkbox" id="showSuccess" checked> Success
        </label>
        <label>
          <input type="checkbox" id="showWarning" checked> Warning
        </label>
        <label>
          <input type="checkbox" id="showError" checked> Error
        </label>
        <label>
          <input type="checkbox" id="showDebug"> Debug
        </label>
      </div>
      
      <div id="logsContainer" class="logs-container">
        <div class="log-entry">
          <span class="log-time">00:00:00</span>
          <span class="log-level info">INFO</span>
          <span class="log-message">En attente des logs...</span>
        </div>
      </div>

      <div class="logs-actions">
        <button id="exportLogs" class="btn btn-secondary">
          ğŸ’¾ Exporter les logs
        </button>
        <button id="refreshLogs" class="btn btn-primary">
          ğŸ”„ RafraÃ®chir
        </button>
      </div>
    </div>

    <footer>
      <div class="footer-info">
        <span class="mode-indicator">Mode: <strong id="currentMode">EXTRACTION</strong></span>
        <span class="version">v2.0.0-pro</span>
      </div>
      <div class="help-text">
        ğŸ’¡ Suivez les Ã©tapes pour extraire tous vos souvenirs ChatGPT
      </div>
    </footer>
  </div>

  <script src="popup-debug.js"></script>
</body>
</html>
